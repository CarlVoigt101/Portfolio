<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>admin</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <h2>Analytics</h2>


    <div style="display: flex;">
        <div style="margin: 0 50px 0 150px; width: 500px;">
        <h5 style="margin: 0px;">Besucher: </h5>
        <p style="margin-top: 0px;">seit 01.05.2022</p>
        <h5 id="count" style="margin:5px">0</h5>
        <button id="reset" style="  
        background-color: #c84141;
        border: none;
        color: white;
        padding: 15px 32px;
        text-align: center;
        text-decoration: none;
        display: inline-block;
        border-radius: 12px;
        font-size: 16px;">-1
        
      
      </button>
        <button>
          
        </button>
        </div>

    <div style="width: 600px; height: 200px;">
        <canvas id="myChart" style="position: relative; display: flex;"></canvas>
      </div>
    </div>

    <script> 
    var button = document.getElementById('reset');
    const countEl = document.getElementById('count');

        updateVisitCount();
        
        function updateVisitCount(){
            fetch('https://api.countapi.xyz/get/viewer/test2')
            .then(res => res.json())
            .then(res => {
                   countEl.innerHTML = res.value;
            });
        }
        
        button.addEventListener('click',minus);

        function minus() {
            fetch('https://api.countapi.xyz/update/viewer/test2?amount=-1')
            .then(res => res.json())
            .then(res => {
                   countEl.innerHTML = res.value;
            });
        }

        </script>


///Chart///
<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
<script>

    const labels = [
      'Mai',
      'Juni',
      'Juli',
      'August',
      'September',
      'Oktober',
    ];
   
    const data = {
      labels: labels,
      datasets: [{
        label: 'My First dataset',
        backgroundColor: 'rgb(255, 99, 132)',
        borderColor: 'rgb(255, 99, 132)',
        data: [5,6,5,6,8,3],
      }]
    };
  
    const config = {
      type: 'line',
      data: data,
      options: {}
    };
  </script>

<script>
    const myChart = new Chart(
      document.getElementById('myChart'),
      config
    );
  </script>

  <script>
    const actions = [
    {
    name: 'Add Data',
    handler(chart) {
      const data = chart.data;
      if (data.datasets.length > 0) {
        data.labels = Utils.months({count: data.labels.length + 1});

        for (let index = 0; index < data.datasets.length; ++index) {
          data.datasets[index].data.push(Utils.rand(-100, 100));
        }

        chart.update();
      }
    }
  },
  ];
  </script>

</body>
</html>